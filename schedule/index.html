<html manifest="schedule.appcache">
<head>
<meta name="viewport" content="width=480">
<title>Choir Camp Schedule</title>
<link rel="shortcut icon" type="image/png" href="favicon.png"/>
<style>
    body {
        font-size: larger;
        margin: 0 0 5px 0;
        font-family: Verdana, Geneva, sans-serif;
    }

    td {
    	vertical-align: top;
    }

    .assignmentsTable { 
        border-spacing: 0;
        border-collapse: separate;
    }

	.timeContainer {
        white-space: nowrap;
		margin: 15px 0 15px 5px;
	}

	.assignmentsContainer {
		margin-left: 10px;
	}

	.timeSlotContainer {
        white-space: nowrap;
	}

	.inProgressTimeSlot td {
		font-weight: bold;
	}

	.startingSoonTimeSlot td {
		font-style: italic;
	}

    .footerNote {
        color: gray;
        margin: 15px 0 0 5px;
        display: none;
    }

    .versionNote {
        color: gray;
        font-size: small;
        margin: 15px 0 0 5px;
        display: none;
    }

    .startingTimeContainer {
    	max-height: 35px;
    	height: 35px;
    }

    .timeSlotFirstRowCell {
    	padding-top: 10px;
    }

    .timeSlotDescriptionContainer {
        white-space: nowrap;
    	font-size: 44pt;
    	padding: 0 0 0 10px !important;
    }

    .assignmentsRow td {
    	font-size: 24pt;
        white-space: nowrap;
    }

    .inProgressSymbolContainer {
        font-size: 64pt;
        text-align: 'center';
    }

    .timeSlotTimesContainer {
        text-align: right;
        font-size: 28pt;
        padding-right: 10px;
        background-color: #027773; /* coordinated with inProgressTimeSlot and follow-scroll background-color */
        white-space: nowrap;
    }

    .inProgressTimeSlot {
        background-color: #03908B; /* coordinated with follow-scroll and timeSlotTimesContainer background-color */
    }

    .timeSlotBoundary {
    	background-color: black;
    	max-height: 1px;
    	height: 1px;
    	margin: 15px 0;
    }

    .follow-scroll {
        color: #FFFFFF; /* coordinated with timeSlotTimesContainer and inProgressTimeSlot background-color */
        background-color: #FF8200; /* coordinated with timeSlotTimesContainer and inProgressTimeSlot background-color */
        padding: 3px;
        border: 1px solid black;
        display: none;
        font-size: 18pt;
    }

    .title {
    	font-size: 48pt;
    }
</style>
</head>
<body>
<div id="all">
	<div id="allAssignments" style="margin-top: 0px;"></div>
</div>
<div id="time" class="timeContainer"></div>
<div class="footerNote"></div>
<div class="versionNote">Version: 2019-07-17 23:12 (refresh twice online to update app)<!-- https://stackoverflow.com/a/13282735/116895 --></div>
<script type="text/javascript" src="jquery-2.1.4.min.js"></script>
<script type="text/javascript">
if (location.protocol !== 'file:' && location.protocol !== 'https:') { // enforce HTTPS
    location.href = 'https:' + window.location.href.substring(window.location.protocol.length);
}

var today;
var params = new URL(new URL(location)).searchParams;
function setToday() {
    today = new Date();
    today.setHours(params.get('hour') || today.getHours());
    today.setMinutes(params.get('minute') || today.getMinutes());
}

var days = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
var dayOfMonthOnWhichStaffArrives = 20;

setToday();

var todayName = params.get('day') || days[today.getDay()];
if (today.getDate() <= dayOfMonthOnWhichStaffArrives && today.getMonth() == 6) {
	todayName = 'SetupSaturday';
}

var schedule = {
    "SetupSaturday": [{
                "startTime": "0600"
                , "endTime": "1314"
                , "startTimeDisplay": "1 PM"
                , "endTimeDisplay": ""
                , "description": "Hugs/Unload"
                , "assignments": ["-Move/Setup until...", "-3PM Staff Meeting!", "-Find a job! :)"]
            }, {
                "startTime": "1315"
                , "endTime": "1454"
                , "startTimeDisplay": "1 PM"
                , "endTimeDisplay": ""
                , "description": "Setup"
                , "assignments": ["Choir Rm-Jeannie,Jack,Thomas,Alexander", "Choir Rm-Rylan,Carson,Britton,Justin,Greg", "Drama Rm-Sarah,Anna,Emily", "Stage-JB", "Pianos-Guys move (check with</br>&nbsp;&nbsp;&nbsp;Charlie/Jack/Jeannie FIRST)", "Handbells-Cindy,Sarah,Cari,Teresa,Debby</br>&nbsp;&nbsp;&nbsp;(boys:help move bells and tables)", "Art Rm-Diana,Rachel", "Office/Lib-Charlie,Lance,Linda J", "Kitchen-Marthe,Clem,Debby,Grace", "Nurses Sta-Sarah</br>&nbsp;&nbsp;&nbsp;(need two assistants)</br>&nbsp;&nbsp;&nbsp;(medical records looked through)</br>&nbsp;&nbsp;&nbsp;(several special diet)</br>&nbsp;&nbsp;&nbsp;(find which forms missing)", "Heard-J.B.,Greg", "Abbey/Fuhr-Louise,Cindy,Molly,Counselors", "Reg.&Setup-Cindy,Sarah,Lance,Marthe", "Move supplies,</br>tables,chairs,risers-Anyone (You?)<br>&nbsp;&nbsp;&nbsp;&nbsp;-- Setup Foyer for Reg.", "What else?-<em>Who</em> else?", ""]
            }, {
                "startTime": "1455"
                , "endTime": "1519"
                , "startTimeDisplay": "3 PM"
                , "endTimeDisplay": ""
                , "description": "Staff Meeting"
                , "assignments": ["-Choir Room (Centenary)"]
            }, {
                "startTime": "1520"
                , "endTime": "1654"
                , "startTimeDisplay": "Until"
                , "endTimeDisplay": "5 PM"
                , "description": "Setup"
                , "assignments": ["Name/Rm Tags-Counselors+", "Photo Gallery-Diana,Rachel,Counselors+", "Music Books-Caroline,Jack,Thomas,Jeannie", "T--Shirts-Linda J,Marthe,+", "Handbell Music-Cindy,Sarah,Teresa,Mike J</br>&nbsp;&nbsp;&nbsp;Cari,Debby+"]
            }, {
                "startTime": "1655"
                , "endTime": "1754"
                , "startTimeDisplay": " 5 PM"
                , "endTimeDisplay": ""
                , "description": "Swim/Unpack"
                , "assignments": [""]
            }, {
                "startTime": "1755"
                , "endTime": "1854"
                , "startTimeDisplay": "6 PM"
                , "endTimeDisplay": ""
                , "description": "Dinner"
                , "assignments": ["-Where?", ""]
            }, {
                "startTime": "1855"
                , "endTime": "1924"
                , "startTimeDisplay": "7 PM"
                , "endTimeDisplay": ""
                , "description": "Staff Meeting/Rehearse"
                , "assignments": ["-Choir Room", "", "-Finish Up (what's left?)", ""]
            }, {
                "startTime": "1925"
                , "endTime": "2200"
                , "startTimeDisplay": "Until"
                , "endTimeDisplay": "10 PM"
                , "description": "Swim"
                , "assignments": [""]
    }],
    "Sunday": [{
                "startTime": "0800"
                , "endTime": "0854"
                , "startTimeDisplay": "8 AM"
                , "endTimeDisplay": ""
                , "description": "Breakfast"
                , "assignments": ["-Cafeteria (Main)", ""]
            }, {
                "startTime": "0855"
                , "endTime": "0954"
                , "startTimeDisplay": "9 AM"
                , "endTimeDisplay": ""
                , "description": "Staff Meeting / Rehearsal"
                , "assignments": ["-Choir Room", ""]
            }, {
                "startTime": "1040"
                , "endTime": "1154"
                , "startTimeDisplay": "10:45"
                , "endTimeDisplay": ""
                , "description": "Subiaco Mass"
                , "assignments": ["-Church of St. Benedict", ""]
            }, {
                "startTime": "1155"
                , "endTime": "1254"
                , "startTimeDisplay": "Noon"
                , "endTimeDisplay": ""
                , "description": "Lunch"
                , "assignments": ["-Cafeteria", ""]
            }, {
                "startTime": "1255"
                , "endTime": "1354"
                , "startTimeDisplay": "1 PM"
                , "endTimeDisplay": ""
                , "description": "Finish / Rest"
                , "assignments": ["-Assignment / Dorm", ""]
            }, {
                "startTime": "1355"
                , "endTime": "1654"
                , "startTimeDisplay": "2 PM"
                , "endTimeDisplay": ""
                , "description": "Camp Registration"
                , "assignments": ["2:30 PM-Swim tests", "4:30 PM-Dorms/change", ""]
            }, {
                "startTime": "1655"
                , "endTime": "1754"
                , "startTimeDisplay": "5 PM"
                , "endTimeDisplay": ""
                , "description": "Orientation"
                , "assignments": ["-Centenary Theater", ""]
            }, {
                "startTime": "1755"
                , "endTime": "1839"
                , "startTimeDisplay": "6:00"
                , "endTimeDisplay": ""
                , "description": "Dinner"
                , "assignments": ["-Cafeteria"]
            }, {
                "startTime": "1840"
                , "endTime": "1924"
                , "startTimeDisplay": "6:45"
                , "endTimeDisplay": "7:25"
                , "description": "Class"
                , "assignments": ["ABCD-Show/Stage", "EFGH-Choir Room"]
            }, {
                "startTime": "1925"
                , "endTime": "1954"
                , "startTimeDisplay": "7:30"
                , "endTimeDisplay": "7:55"
                , "description": "Evensong"
                , "assignments": ["-Abbey Church"]
            }, {
                "startTime": "1955"
                , "endTime": "2054"
                , "startTimeDisplay": "8 PM"
                , "endTimeDisplay": ""
                , "description": "Talent Show"
                , "assignments": ["-Centenary Theater"]
            }, {
                "startTime": "2055"
                , "endTime": "2154"
                , "startTimeDisplay": "9 PM"
                , "endTimeDisplay": ""
                , "description": "Swim"
                , "assignments": ["AC-Dorms instead", "BD-Dorms 9:30"]
            }, {
                "startTime": "2155"
                , "endTime": "2224"
                , "startTimeDisplay": "10:00"
                , "endTimeDisplay": "10:25"
                , "description": "Teen Time"
                , "assignments": ["EFGH-Church Steps"]
            }, {
                "startTime": "2225"
                , "endTime": "2259"
                , "startTimeDisplay": "10:30"
                , "endTimeDisplay": ""
                , "description": "Dorms"
                , "assignments": ["11:00-Lights Out"]
    }],
    "Monday": [{
                "startTime": "0845"
                , "endTime": "0929"
                , "startTimeDisplay": "8:50"
                , "endTimeDisplay": "9:30"
                , "description": "Class (1st)"
                , "assignments": ["AC-Choir Room", "BD-Foyer", "EF-Classroom", "GH-Show/Stage", ""]
            }
            , {
                "startTime": "0930"
                , "endTime": "1009"
                , "startTimeDisplay": " 9:35"
                , "endTimeDisplay": "10:15"
                , "description": "Class (2nd)"
                , "assignments": ["AB-Show/Stage", "CD-Gallery", "EG-Choir Room", "FH-Foyer", ""]
            }
            , {
                "startTime": "1010"
                , "endTime": "1024"
                , "startTimeDisplay": "10:15"
                , "endTimeDisplay": "10:30"
                , "description": "Snack"
                , "assignments": []
            }
            , {
                "startTime": "1025"
                , "endTime": "1109"
                , "startTimeDisplay": "10:30"
                , "endTimeDisplay": "11:10"
                , "description": "Class (3rd)"
                , "assignments": ["AB-Gallery", "CD-Show/Stage", "EF-Extra Stuff", "GH-Classroom", "Staff-Choir Room"]
            }
            , {
                "startTime": "1110"
                , "endTime": "1154"
                , "startTimeDisplay": "11:15"
                , "endTimeDisplay": "11:55"
                , "description": "Class (4th)"
                , "assignments": ["AC-Choir Room", "BD-Foyer", "EF-Show/Stage", "GH-Extra Stuff"]
            }
            , {
                "startTime": "1155"
                , "endTime": "1239"
                , "startTimeDisplay": "12:00"
                , "endTimeDisplay": ""
                , "description": "Lunch"
                , "assignments": []
            }
            , {
                "startTime": "1240"
                , "endTime": "1324"
                , "startTimeDisplay": "12:45"
                , "endTimeDisplay": " 1:25"
                , "description": "Class (5th)"
                , "assignments": ["AB-Show/Stage", "CD-Gallery", "EG-Choir Room", "FH-Foyer"]
            }
            , {
                "startTime": "1325"
                , "endTime": "1409"
                , "startTimeDisplay": "1:30"
                , "endTimeDisplay": "2:10"
                , "description": "Class (6th)"
                , "assignments": ["AC-Choir Room", "BD-Foyer", "EF-Classroom", "GH-Show/Stage", ""]
            }
            , {
                "startTime": "1410"
                , "endTime": "1449"
                , "startTimeDisplay": "2:15"
                , "endTimeDisplay": "2:55"
                , "description": "Class (7th)"
                , "assignments": ["AB-Gallery", "CD-Extra Stuff", "EF-Show/Stage", "GH-Classroom", "Staff-Choir Room"]
            }
            , {
                "startTime": "1450"
                , "endTime": "1554"
                , "startTimeDisplay": "3:00"
                , "endTimeDisplay": ""
                , "description": "Break"
                , "assignments": ["Staff-Choir Room"]
            }
            , {
                "startTime": "1555"
                , "endTime": "1754"
                , "startTimeDisplay": "4:00"
                , "endTimeDisplay": "5:45"
                , "description": "Activities"
                , "assignments": []
            }
            , {
                "startTime": "1755"
                , "endTime": "1839"
                , "startTimeDisplay": "6:00"
                , "endTimeDisplay": "6:40"
                , "description": "Supper"
                , "assignments": []
            }
            , {
                "startTime": "1840"
                , "endTime": "1924"
                , "startTimeDisplay": "6:45"
                , "endTimeDisplay": "7:25"
                , "description": "Class (8th)"
                , "assignments": ["AB-Extra Stuff", "CD-Show/Stage", "EG-Choir Room", "FH-Foyer"]
            }
            , {
                "startTime": "1925"
                , "endTime": "1954"
                , "startTimeDisplay": "7:30"
                , "endTimeDisplay": ""
                , "description": "Evensong"
                , "assignments": []
            }
            , {
                "startTime": "1955"
                , "endTime": "2229"
                , "startTimeDisplay": "8:00"
                , "endTimeDisplay": ""
                , "description": "Activities"
                , "assignments": []
    }],
    "Friday_Church_in_the_morning_AND_Show_in_the_afternoon": [{
                "startTime": "0805"
                , "endTime": "0844"
                , "startTimeDisplay": "After"
                , "endTimeDisplay": "Dorm"
                , "description": "Move Bells"
                , "assignments": ["-Move Bells/Setup"]
            }, {
                "startTime": "0845"
                , "endTime": "1114"
                , "startTimeDisplay": "8:50"
                , "endTimeDisplay": "11:20"
                , "description": "Abbey Church"
                , "assignments": ["ABCD-Alter Steps Rehearse"
                    , "EFGH-Gallery Rehearse"
                    , "AB-Bells Rehearse"
                    , "GH-Bells Rehearse"
                    , "CDEF-Bells after Lunch"
                    , "All-Alter Steps Rehearse"
                    , "All-Choir Stalls Rehearse"
                    , "ABCD-Break"
                    , "EFGH-Stalls Rehearse"
                    , "-Exit Church by 11:20!"
                    , "-All to Centenary"
                    ]
            }, {
                "startTime": "1115"
                , "endTime": "1154"
                , "startTimeDisplay": "11:20"
                , "endTimeDisplay": "11:55"
                , "description": "Centenary"
                , "assignments": ["ABCD-Foyer"
                	, "EFGH-Choir Room"
                	, "Counselors-Stage"
                	]
    		}, {
                "startTime": "1155"
                , "endTime": "1229"
                , "startTimeDisplay": "12:00"
                , "endTimeDisplay": ""
                , "description": "Lunch"
                , "assignments": ["CDEF-Go first!"]
    		}, {
                "startTime": "1230"
                , "endTime": "1254"
                , "startTimeDisplay": "12:30"
                , "endTimeDisplay": "Quick"
                , "description": "Church"
                , "assignments": ["CD-Bells Rehearse"
                	, "EF-Bells Rehearse"
                	]
    		}, {
                "startTime": "1255"
                , "endTime": "1754"
                , "startTimeDisplay": "1 PM"
                , "endTimeDisplay": "Until"
                , "description": "Centenary"
                , "assignments": ["All-Show"
                	, "-As long as it takes! :)"
                    , "-...then rest..."
                    , "-&nbsp;(or maybe swim/rehearse?)"
                    , "-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...until..."
                	]
    		}, {
                "startTime": "1755"
                , "endTime": "1839"
                , "startTimeDisplay": "6:00"
                , "endTimeDisplay": ""
                , "description": "Supper"
                , "assignments": []
            }, {
                "startTime": "1840"
                , "endTime": "1924"
                , "startTimeDisplay": "6:40"
                , "endTimeDisplay": ""
                , "description": "Class"
                , "assignments": []
            }, {
                "startTime": "1925"
                , "endTime": "2009"
                , "startTimeDisplay": "7:30"
                , "endTimeDisplay": ""
                , "description": "Evensong"
                , "assignments": []
            }, {
                "startTime": "2010"
                , "endTime": "2359"
                , "startTimeDisplay": "8:15"
                , "endTimeDisplay": ""
                , "description": "Swim"
                , "assignments": ["-All"]
    }],
    "Friday": [
            {
                "startTime": "0850"
                , "endTime": "1144"
                , "startTimeDisplay": "8:50"
                , "endTimeDisplay": ""
                , "description": "Centenary"
                , "assignments": ["All-Show"]
            }
            , {
                "startTime": "1145"
                , "endTime": "1154"
                , "startTimeDisplay": "After"
                , "endTimeDisplay": "Fnrl"
                , "description": "Move Bells"
                , "assignments": ["-Move Bells/Setup"]
            }
            , {
                "startTime": "1155"
                , "endTime": "1239"
                , "startTimeDisplay": "12:00"
                , "endTimeDisplay": ""
                , "description": "Lunch"
                , "assignments": ["-Staged release.","-Who goes first?"]
            }
            , {
                "startTime": "1251"
                , "endTime": "1554"
                , "startTimeDisplay": "12:45"
                , "endTimeDisplay": "4:00"
                , "description": "Abbey Church"
                , "assignments": ["All-Start in Choir Stalls"]
            }
            , {
                "startTime": "1555"
                , "endTime": "1754"
                , "startTimeDisplay": "4:00"
                , "endTimeDisplay": ""
                , "description": "Needed"
                , "assignments": ["-Whatever needed", "- until dinner:", "- -- rest?", "- -- swim?", "- -- rehearse?", "- -- <em>twist an ankle?!</em>"]
            }
            , {
                "startTime": "1755"
                , "endTime": "1839"
                , "startTimeDisplay": "6:00"
                , "endTimeDisplay": ""
                , "description": "Supper"
                , "assignments": []
            }
            , {
                "startTime": "1840"
                , "endTime": "1924"
                , "startTimeDisplay": "6:40"
                , "endTimeDisplay": ""
                , "description": "Class"
                , "assignments": []
            }
            , {
                "startTime": "1925"
                , "endTime": "2009"
                , "startTimeDisplay": "7:30"
                , "endTimeDisplay": ""
                , "description": "Evensong"
                , "assignments": []
            }
            , {
                "startTime": "2010"
                , "endTime": "2359"
                , "startTimeDisplay": "Then"
                , "endTimeDisplay": ""
                , "description": "Swim"
                , "assignments": ["-All"]
    }],
    "Saturday": [{
                "startTime": "0730"
                , "endTime": "0754"
                , "startTimeDisplay": " 7:30"
                , "endTimeDisplay": ""
                , "description": "Breakfast"
                , "assignments": ["-Cafeteria", "-T--Shirts", "-Dismiss early"]
            }, {
                "startTime": "0825"
                , "endTime": "0934"
                , "startTimeDisplay": " 8:30"
                , "endTimeDisplay": ""
                , "description": "Camp Photo"
                , "assignments": ["-8:30 Sharp!", "All-Abbey Church Steps", "-On time! <strong>PLEASE!</strong> Or", "-we waste rehearsal time!"]
            }, {
                "startTime": "0935"
                , "endTime": "1124"
                , "startTimeDisplay": " 9:40"
                , "endTimeDisplay": ""
                , "description": "Holy Eucharist"
                , "assignments": ["-Abbey Church"]
            }, {
                "startTime": "1125"
                , "endTime": "1209"
                , "startTimeDisplay": "11:30"
                , "endTimeDisplay": ""
                , "description": "Picnic"
                , "assignments": ["-Abbey Grounds"]
            }, {
                "startTime": "1210"
                , "endTime": "1324"
                , "startTimeDisplay": "12:20"
                , "endTimeDisplay": ""
                , "description": "Places!"
                , "assignments": ["12:30-Show!"]
            }, {
                "startTime": "1325"
                , "endTime": "1334"
                , "startTimeDisplay": ""
                , "endTimeDisplay": ""
                , "description": "Yayyy! :)"
                , "assignments": ["-We did it!", "-(briefest pause...)", "-Ok. Back to work!"]
            }, {
                "startTime": "1335"
                , "endTime": "1554"
                , "startTimeDisplay": "Until"
                , "endTimeDisplay": "Done"
                , "description": "Teardown"
                , "assignments": ["-Pianos Away", "-Stage Restored", "-Risers Away", "-Gallery Restored", "-Bells Stowed", "-Foyer Restored", "-Dorms Cleaned", "-Fleet Packed", "-Kitchen Cleaned", "-etc, etc (ask!)"]
            }, {
                "startTime": "1555"
                , "endTime": "1754"
                , "startTimeDisplay": ""
                , "endTimeDisplay": ""
                , "description": "Pool"
                , "assignments": ["-Refreshments!", "-Dubious pride!", "-Start planning..."]
            }, {
                "startTime": "1755"
                , "endTime": "2000"
                , "startTimeDisplay": ""
                , "endTimeDisplay": ""
                , "description": "Farewell!"
                , "assignments": ["-Drive Safe!", "-THANK YOU!!!!11"]
    }]
};
schedule['Tuesday'] = schedule['Monday'];
schedule['Wednesday'] = schedule['Monday'];
schedule['Thursday'] = schedule['Monday'];

var hoursAndMinutes;
var lastHoursAndMinutes = "";
var lastScrollToId = "";

	function hasNonEmptyValue(input) {
    	return input !== null && typeof input !== 'undefined' && input.replace(/\s/g, '').length > 0;
	}

(function () {

	function getFormattedTime(fourDigitTime) {
			fourDigitTime = String(fourDigitTime);
	    var hours24 = parseInt(fourDigitTime.substring(0, 2),10);
	    var hours = ((hours24 + 11) % 12) + 1;
	    var amPm = hours24 > 11 ? 'PM' : 'AM';
	    var minutes = fourDigitTime.substring(2);
	    return hours + ':' + minutes; // + ' ' + amPm;
	}

	function getTimeSlotHtml(timeSlot, timeSlotContainerClassName, showInProgressSymbol) {
		timeSlotContainerClassName = hasNonEmptyValue(timeSlotContainerClassName) ? timeSlotContainerClassName : '';
		var result = '<tr id="'+timeSlot.startTime+'" class="'+timeSlotContainerClassName+'"><td class="timeSlotFirstRowCell startingTimeContainer timeSlotTimesContainer">' + timeSlot.startTimeDisplay + '</td><td rowspan="2" class="timeSlotFirstRowCell timeSlotDescriptionContainer">' + timeSlot.description + '<table class="assignmentsContainer">'
		for (var i = 0; i < timeSlot.assignments.length; i++) {
			var assignment = timeSlot.assignments[i];
			if (hasNonEmptyValue(assignment)) {
                assignment = assignment.replace('--','#####')
				var parts = assignment.split('-');
				result = result + '<tr class="assignmentsRow"><td>' + parts[0].replace('#####','-') + '</td><td>' + (parts[0].length > 0 ? ': ' : '') + parts[1].replace('#####','-')  + '</td></tr>';
			}
		}
		result = result + '</table></td></tr><tr class="'+timeSlotContainerClassName+'"><td class="timeSlotTimesContainer">'+ timeSlot.endTimeDisplay + (showInProgressSymbol ? '<div class="inProgressSymbolContainer">&#x2713;</div>' : '') +'</td></tr>';
		result = result + '<tr><td colspan="2"><div class="timeSlotBoundary"></div></td></tr>';
		return result;
	}

	function numberIsGreaterThanZeroAndLessThanFifteen(number) {
		return number > 0 && number < 15;
	}

	function showTimeSlot(timeSlot) {

	}

	function showTimeSlots(hour, minute) {
		var todayDisplayName = todayName;
		if (todayDisplayName === 'SetupSaturday') {
			todayDisplayName = 'Saturday';
		}
		var allAssignmentsHtml = '<span class="title">'+todayDisplayName+'</span><span class="follow-scroll"></span><table class="assignmentsTable">';
		var scrollToId;
        var timeSlots = schedule[todayName]
		var nowNumber = Number(String(hour)+String(minute))
		for (var i = 0; i < timeSlots.length; i++) {
			var timeSlot = timeSlots[i];
			var startNumber = Number(timeSlot.startTime)
			var endNumber = Number(timeSlot.endTime)
            var minutesUntilStart = startNumber - nowNumber
			var isInProgress = (startNumber <= nowNumber) && (nowNumber <= endNumber)
            var isStartingSoon = minutesUntilStart > 0 && minutesUntilStart <= 15;

            var timeSlotContainerClassName = '';
            var showInProgressSymbol = false;
			if (isInProgress) {
				timeSlotContainerClassName = 'inProgressTimeSlot';
				showInProgressSymbol = true;
				scrollToId = timeSlot.startTime;
			} else if (isStartingSoon) {
                timeSlotContainerClassName = 'startingSoonTimeSlot';
            }

			allAssignmentsHtml = allAssignmentsHtml + getTimeSlotHtml(timeSlot, timeSlotContainerClassName, showInProgressSymbol);
		};
		document.getElementById('allAssignments').innerHTML = allAssignmentsHtml + '</table>';
		if (hasNonEmptyValue(scrollToId) && scrollToId !== lastScrollToId) {
		    $('html, body').animate({
		        scrollTop: $('#'+scrollToId).offset().top - 10
		    }, 1000);
		    lastScrollToId = scrollToId;
		}
	}

    function checkTime(i) {
        return (i < 10) ? "0" + i : i;
    }

	function showNow() {
	    var element = $('.follow-scroll');

	    // Space between element and top of screen (when scrolling)
	    var topMargin = 86;

	    // Should probably be set in CSS; but here just for emphasis
	    element.css('position', 'relative');
        var scrollTop = $(window).scrollTop();

        element.html('<div>Now</div><div>'+getFormattedTime(hoursAndMinutes)+'</div>');
	    var nowLeft = $('table.assignmentsTable').width() - $('.follow-scroll').width() - $('span.title').width() - 0;

        element.stop(false, false).animate({
            top: scrollTop < originalY
                    ? 0
                    : scrollTop - originalY + topMargin
            , left: nowLeft
        }, 0).css('display','inline-block');
	}

    var hoursAndMinutes;

    function startTime() {
        setToday();
        var h = checkTime(today.getHours()),
        m = checkTime(today.getMinutes()),
        s = checkTime(today.getSeconds()),
        dayNumber = today.getDay();
        hoursAndMinutes = String(h) + String(m)

        if (lastHoursAndMinutes !== hoursAndMinutes) {
            showTimeSlots(h, m);
            showNow();
            lastHoursAndMinutes = hoursAndMinutes;
        }
        //if (window.location.protocol.substring(0,4) === 'http') {
        	t = setTimeout(function () {
            	startTime()
        	}, 500);
    	//}
    }
    startTime();
    $('.footerNote,.versionNote').show();

	var originalY = 20; // $('.follow-scroll').offset().top;

    $(window).on('scroll', function(event) {
    	showNow();
    });
})();
</script>
</body>
</html>